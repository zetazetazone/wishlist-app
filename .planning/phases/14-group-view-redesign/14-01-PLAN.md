---
phase: 14-group-view-redesign
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - components/groups/GroupModeBadge.tsx
  - components/groups/GroupViewHeader.tsx
autonomous: true

must_haves:
  truths:
    - "Group header displays photo (or generated avatar), name, and description"
    - "Group header shows mode badge indicating Greetings or Gifts"
  artifacts:
    - path: "components/groups/GroupModeBadge.tsx"
      provides: "Mode badge component (Greetings/Gifts indicator)"
      exports: ["GroupModeBadge"]
    - path: "components/groups/GroupViewHeader.tsx"
      provides: "Enhanced group header with photo, name, description, mode badge"
      exports: ["GroupViewHeader"]
  key_links:
    - from: "components/groups/GroupViewHeader.tsx"
      to: "components/groups/GroupModeBadge.tsx"
      via: "import and render"
      pattern: "import.*GroupModeBadge"
    - from: "components/groups/GroupViewHeader.tsx"
      to: "components/groups/GroupAvatar.tsx"
      via: "import and render"
      pattern: "import.*GroupAvatar"
---

<objective>
Create group header components: GroupModeBadge for mode indication and GroupViewHeader for rich group display.

Purpose: Enable the group detail screen to show prominent group information with photo/avatar, name, description, and mode indicator badge (GVIEW-01, GVIEW-02).
Output: Two reusable components ready for integration into the group detail screen.
</objective>

<execution_context>
@/home/zetaz/.claude/get-shit-done/workflows/execute-plan.md
@/home/zetaz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-group-view-redesign/14-RESEARCH.md

# Existing patterns to follow
@components/wishlist/ItemTypeBadge.tsx
@components/groups/GroupAvatar.tsx
@constants/theme.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create GroupModeBadge component</name>
  <files>components/groups/GroupModeBadge.tsx</files>
  <action>
Create a badge component that displays the group mode (Greetings or Gifts).

Follow the ItemTypeBadge pattern exactly:
- Interface: `{ mode: 'greetings' | 'gifts' }`
- Config object mapping mode to icon, text, bgColor, textColor
- For 'gifts': icon='gift', text='Gifts', use burgundy colors (burgundy[100] bg, burgundy[700] text)
- For 'greetings': icon='party-popper', text='Greetings', use gold colors (gold[100] bg, gold[700] text)
- Use MaterialCommunityIcons for icons (size 14)
- Style: flexDirection row, alignItems center, paddingHorizontal spacing.sm, paddingVertical spacing.xs, borderRadius borderRadius.sm
- Text: fontSize 12, fontWeight '600'
- Export both named and default

DO NOT use blue colors for mode badge - the Phase 13 decision about "blue for mode" referred to the selector during group creation, not the display badge. For display, use the app's standard burgundy/gold color scheme.
  </action>
  <verify>
Run TypeScript check: `npx tsc --noEmit`
Component file exists and exports GroupModeBadge
  </verify>
  <done>
GroupModeBadge component renders correctly with both mode values, follows ItemTypeBadge styling pattern
  </done>
</task>

<task type="auto">
  <name>Task 2: Create GroupViewHeader component</name>
  <files>components/groups/GroupViewHeader.tsx</files>
  <action>
Create an enhanced group header component for the group detail screen.

Interface:
```typescript
interface GroupViewHeaderProps {
  group: {
    name: string;
    description?: string | null;
    photo_url?: string | null;
    mode: 'greetings' | 'gifts';
  };
  memberCount: number;
  onBack: () => void;
}
```

Structure (from top to bottom):
1. LinearGradient background with burgundy colors (same as existing [id].tsx header)
2. MotiView wrapper with entrance animation (fade + translateY)
3. Back button (circular, semi-transparent white background, arrow-left icon)
4. GroupAvatar component with size="2xl" for prominent display
5. Group name (fontSize 32, fontWeight 700, white color)
6. Group description if present (fontSize 14, gold[200] color, numberOfLines 2)
7. Row with GroupModeBadge and member count indicator

Import and use:
- LinearGradient from expo-linear-gradient
- MotiView from moti
- MaterialCommunityIcons from @expo/vector-icons
- GroupAvatar from ./GroupAvatar
- GroupModeBadge from ./GroupModeBadge
- colors, spacing, borderRadius from constants/theme

Null handling: Only render description section if group.description is truthy.
  </action>
  <verify>
Run TypeScript check: `npx tsc --noEmit`
Component file exists and exports GroupViewHeader
Imports GroupModeBadge and GroupAvatar correctly
  </verify>
  <done>
GroupViewHeader component renders group photo/avatar, name, optional description, mode badge, and member count with proper styling and animations
  </done>
</task>

</tasks>

<verification>
- [ ] `npx tsc --noEmit` passes with no errors in new files
- [ ] GroupModeBadge.tsx exists with correct exports
- [ ] GroupViewHeader.tsx exists with correct exports
- [ ] Both components import from correct paths
- [ ] Styling follows established design system (theme constants)
</verification>

<success_criteria>
1. GroupModeBadge displays correct icon and colors for both 'greetings' and 'gifts' modes
2. GroupViewHeader displays group avatar, name, description (when present), mode badge, and member count
3. Components are ready for integration into group detail screen
4. TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/14-group-view-redesign/14-01-SUMMARY.md`
</output>
