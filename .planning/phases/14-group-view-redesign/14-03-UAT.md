---
status: diagnosed
phase: 14-group-view-redesign
source: 14-03-SUMMARY.md
started: 2026-02-04T21:00:00Z
updated: 2026-02-04T21:15:00Z
---

## Current Test

[testing complete]

## Tests

### 1. Group header display
expected: Group detail screen shows group photo (or generated avatar if no photo), group name, description, and a mode badge (Greetings or Gifts indicator).
result: pass

### 2. Member card privacy
expected: Member cards show profile photo and name only. No email address is visible anywhere on the member cards.
result: pass

### 3. Birthday sorting
expected: Members are sorted by closest upcoming birthday. Members without a valid birthday appear at the bottom of the list.
result: pass

### 4. Birthday countdown
expected: Each member card shows birthday countdown text (e.g., "12 days", "2 months") indicating how far away their next birthday is.
result: pass

### 5. Favorite item preview
expected: If a member has a favorite wishlist item set, their member card shows a preview of it (thumbnail and/or title). If no favorite is set, no preview appears.
result: pass

### 6. Celebration navigation
expected: Tapping on a member card navigates to that member's celebration page.
result: issue
reported: "it takes me to an error page - shows 'Celebration not found or access denied' with a Go Back button"
severity: major

## Summary

total: 6
passed: 5
issues: 1
pending: 0
skipped: 0

## Gaps

- truth: "Tapping on a member card navigates to that member's celebration page"
  status: failed
  reason: "User reported: it takes me to an error page - shows 'Celebration not found or access denied' with a Go Back button"
  severity: major
  test: 6
  root_cause: "MemberCard onPress navigates to /(app)/celebration/${member.users.id} passing a USER ID, but the celebration screen expects a CELEBRATION RECORD ID. getCelebration(id) queries celebrations table by primary key, finds no match, returns null, triggering the error."
  artifacts:
    - path: "app/group/[id].tsx"
      line: 248
      issue: "Passes member.users.id (user UUID) to celebration route"
    - path: "app/(app)/celebration/[id].tsx"
      line: 123
      issue: "getCelebration(id) expects celebration record UUID, not user ID"
  missing:
    - "Need to query for the member's upcoming celebration in this group before navigating, or navigate to a different appropriate screen"
  debug_session: ".planning/debug/member-card-navigation-error.md"
