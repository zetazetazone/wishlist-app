---
phase: 32-ui-component-migration
plan: 03
type: execute
wave: 2
depends_on: ["32-01"]
files_modified:
  - app/auth/login.tsx
  - app/auth/signup.tsx
  - app/(onboarding)/index.tsx
autonomous: true

must_haves:
  truths:
    - "Login form labels and buttons display in selected language"
    - "Signup form labels and error messages display in selected language"
    - "Onboarding steps display in selected language"
    - "Auth error alerts display translated messages"
  artifacts:
    - path: "app/auth/login.tsx"
      provides: "Translated login screen"
      contains: "useTranslation"
    - path: "app/auth/signup.tsx"
      provides: "Translated signup screen"
      contains: "useTranslation"
    - path: "app/(onboarding)/index.tsx"
      provides: "Translated onboarding flow"
      contains: "useTranslation"
  key_links:
    - from: "app/auth/login.tsx"
      to: "src/i18n/locales/en.json"
      via: "t() function calls"
      pattern: "t\\('auth\\."
---

<objective>
Migrate authentication and onboarding screens to use translations

Purpose: First screens users see - critical for non-English speakers to complete signup
Output: Login, signup, and onboarding display in selected language
</objective>

<execution_context>
@/home/zetaz/.claude/get-shit-done/workflows/execute-plan.md
@/home/zetaz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/32-ui-component-migration/32-RESEARCH.md
@src/i18n/locales/en.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate login and signup screens</name>
  <files>
    app/auth/login.tsx
    app/auth/signup.tsx
  </files>
  <action>
For both auth screens, apply translation migration:

1. Add import: `import { useTranslation } from 'react-i18next';`

2. Add hook: `const { t } = useTranslation();`

3. For login.tsx, translate:
   - "Welcome Back" header: `t('auth.welcomeBack')`
   - "Sign in to your account" subtitle: `t('auth.signInToAccount')`
   - "Email" label: `t('auth.email')`
   - "Password" label: `t('auth.password')`
   - Placeholder text: `t('auth.enterEmail')`, `t('auth.enterPassword')` or use `t('placeholders.enterEmail')`
   - "Sign In" button: `t('auth.login')`
   - "Don't have an account?" text: `t('auth.dontHaveAccount')`
   - "Sign Up" link: `t('auth.signup')`
   - "Forgot Password?" link: `t('auth.forgotPassword')`
   - All Alert.alert() for login errors:
     ```typescript
     Alert.alert(
       t('alerts.titles.loginFailed'),
       t('alerts.messages.fillAllFields') // or appropriate error message
     );
     ```

4. For signup.tsx, translate:
   - "Create Account" header: `t('auth.createAccount')`
   - Form labels: email, password, confirm password
   - "Sign Up" button: `t('auth.signup')`
   - "Already have an account?" text: `t('auth.alreadyHaveAccount')`
   - Validation error messages:
     - `t('auth.errors.invalidEmail')`
     - `t('auth.errors.passwordTooShort')`
     - `t('auth.errors.passwordsDoNotMatch')`
   - All Alert.alert() for signup errors:
     ```typescript
     Alert.alert(
       t('alerts.titles.signupFailed'),
       t('alerts.messages.passwordsNoMatch')
     );
     ```

5. Ensure placeholder props use translations:
   ```typescript
   <TextInput
     placeholder={t('placeholders.enterEmail')}
     // ...
   />
   ```
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - `grep -c "useTranslation" app/auth/login.tsx` returns 1+
    - `grep -c "useTranslation" app/auth/signup.tsx` returns 1+
    - `grep -c "Alert.alert.*t\(" app/auth/login.tsx` shows translated alerts
  </verify>
  <done>
    - login.tsx and signup.tsx use useTranslation hook
    - All form labels, buttons, and placeholders translated
    - All Alert.alert() calls have translated content
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate onboarding flow</name>
  <files>app/(onboarding)/index.tsx</files>
  <action>
Translate the onboarding flow:

1. Add import: `import { useTranslation } from 'react-i18next';`

2. Add hook: `const { t } = useTranslation();`

3. Translate all onboarding steps:
   - "Welcome!" title: `t('onboarding.welcome')`
   - "Let's set up your profile to get started": `t('onboarding.letsGetStarted')`
   - "What's your name?" question: `t('onboarding.whatsYourName')`
   - Name input placeholder: `t('placeholders.enterName')` or `t('onboarding.enterYourName')`
   - "When's your birthday?" question: `t('onboarding.whensYourBirthday')`
   - "We'll use this to celebrate with your friends" note: `t('onboarding.birthdayNote')`
   - "Add Profile Photo" button: `t('onboarding.addPhoto')` or `t('onboarding.addPhotoOptional')`
   - "Skip" button: `t('onboarding.skip')`
   - "Next" button: `t('common.next')`
   - "Finish" button: `t('onboarding.finish')`
   - "Review your information" text: `t('onboarding.reviewInfo')`
   - "Confirm & Save" button: `t('onboarding.confirmAndSave')`

4. Translate all Alert.alert() calls:
   - Required field validation:
     ```typescript
     Alert.alert(
       t('alerts.titles.requiredField'),
       t('onboarding.enterDisplayName')
     );
     ```
   - Save errors:
     ```typescript
     Alert.alert(
       t('alerts.titles.error'),
       t('onboarding.errorSaving')
     );
     ```

5. The birthday picker may have its own localization - if using a date picker component, check if it respects device locale automatically (many do).
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - `grep -c "useTranslation" app/\(onboarding\)/index.tsx` returns 1+
    - `grep -c "Alert.alert.*t\(" app/\(onboarding\)/index.tsx` shows translated alerts
  </verify>
  <done>
    - Onboarding screen uses useTranslation hook
    - All step titles, questions, and buttons translated
    - All Alert.alert() calls have translated content
    - Placeholder text translated
  </done>
</task>

</tasks>

<verification>
1. TypeScript compiles: `npx tsc --noEmit`
2. All 3 auth/onboarding screens import useTranslation
3. No hardcoded English strings in form labels, buttons, or alerts
4. Run app, switch to Spanish before login - verify auth screens show Spanish
</verification>

<success_criteria>
- Login screen displays all text in selected language
- Signup screen displays all text in selected language
- Onboarding flow displays all steps in selected language
- Error alerts display translated messages
- Placeholder text in inputs is translated
</success_criteria>

<output>
After completion, create `.planning/phases/32-ui-component-migration/32-03-SUMMARY.md`
</output>
