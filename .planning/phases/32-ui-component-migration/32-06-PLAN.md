---
phase: 32-ui-component-migration
plan: 06
type: execute
wave: 3
depends_on: ["32-02"]
files_modified:
  - components/groups/CreateGroupModal.tsx
  - components/groups/JoinGroupModal.tsx
  - components/groups/GroupCard.tsx
  - components/groups/GroupViewHeader.tsx
  - components/groups/MemberCard.tsx
  - components/groups/MemberListItem.tsx
  - components/groups/GroupModeBadge.tsx
  - components/groups/GroupAvatar.tsx
  - components/groups/FavoritePreview.tsx
  - components/groups/InviteCodeSection.tsx
  - components/groups/BudgetSettingsSection.tsx
  - components/groups/BudgetProgressBar.tsx
autonomous: true

must_haves:
  truths:
    - "Create group modal displays form labels in selected language"
    - "Join group modal displays in selected language"
    - "Group cards display mode badges in selected language"
    - "Budget settings display labels in selected language"
  artifacts:
    - path: "components/groups/CreateGroupModal.tsx"
      provides: "Translated create group form"
      contains: "useTranslation"
    - path: "components/groups/GroupModeBadge.tsx"
      provides: "Translated mode badge"
      contains: "useTranslation"
    - path: "components/groups/BudgetSettingsSection.tsx"
      provides: "Translated budget settings"
      contains: "useTranslation"
  key_links:
    - from: "components/groups/GroupModeBadge.tsx"
      to: "src/i18n/locales/en.json"
      via: "t() for mode labels"
      pattern: "t\\('groups\\.mode\\."
---

<objective>
Migrate all group-related components (12 files) to use translations

Purpose: Group components are used across multiple screens and must be translated for consistency
Output: All group components display text in selected language
</objective>

<execution_context>
@/home/zetaz/.claude/get-shit-done/workflows/execute-plan.md
@/home/zetaz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/32-ui-component-migration/32-RESEARCH.md
@src/i18n/locales/en.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate group modals and cards</name>
  <files>
    components/groups/CreateGroupModal.tsx
    components/groups/JoinGroupModal.tsx
    components/groups/GroupCard.tsx
    components/groups/GroupViewHeader.tsx
    components/groups/MemberCard.tsx
    components/groups/MemberListItem.tsx
  </files>
  <action>
For each component, apply translation migration:

1. For CreateGroupModal.tsx:
   - Add `import { useTranslation } from 'react-i18next';`
   - Add `const { t } = useTranslation();`
   - Translate:
     - "Create Group" title: `t('groups.createGroup')`
     - "Group Name" label: `t('groups.groupName')`
     - "Group Description" label: `t('groups.groupDescription')`
     - "Group Photo" label: `t('groups.groupPhoto')`
     - Placeholders: `t('placeholders.enterGroupName')`, `t('placeholders.groupDescription')`
     - "Create" button: `t('common.confirm')` or appropriate key
     - "Cancel" button: `t('common.cancel')`
   - All Alert.alert() calls

2. For JoinGroupModal.tsx:
   - Add imports and hook
   - Translate:
     - "Join Group" title: `t('groups.joinGroup')`
     - "Enter invite code" label/placeholder: `t('groups.enterInviteCode')`
     - "Join" button
     - Error messages
   - All Alert.alert() calls

3. For GroupCard.tsx:
   - Add imports and hook
   - Translate:
     - Member count text: `{count} {t('groups.member', { count })}`
     - Any visible text/labels

4. For GroupViewHeader.tsx:
   - Add imports and hook
   - Translate any static text (mode badge may handle its own)

5. For MemberCard.tsx:
   - Add imports and hook
   - Translate countdown text (or delegate to countdown utility with t)
   - Any action labels

6. For MemberListItem.tsx:
   - Add imports and hook
   - Translate "Admin" badge: `t('groups.admin')`
   - Any action labels
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - `grep -l "useTranslation" components/groups/CreateGroupModal.tsx`
    - `grep -l "useTranslation" components/groups/JoinGroupModal.tsx`
    - `grep -l "useTranslation" components/groups/GroupCard.tsx`
  </verify>
  <done>
    - CreateGroupModal, JoinGroupModal use translations
    - GroupCard, GroupViewHeader use translations
    - MemberCard, MemberListItem use translations
    - All visible text translated
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate group badges and settings components</name>
  <files>
    components/groups/GroupModeBadge.tsx
    components/groups/GroupAvatar.tsx
    components/groups/FavoritePreview.tsx
    components/groups/InviteCodeSection.tsx
    components/groups/BudgetSettingsSection.tsx
    components/groups/BudgetProgressBar.tsx
  </files>
  <action>
1. For GroupModeBadge.tsx:
   - Add imports and hook
   - Translate mode labels:
     - "Gifts": `t('groups.mode.gifts')`
     - "Greetings": `t('groups.mode.greetings')`

2. For GroupAvatar.tsx:
   - Check if any text needs translation (may just be initials/image)
   - Add hook if accessibility labels need translation

3. For FavoritePreview.tsx:
   - Add imports and hook if any labels present
   - Translate "Most Wanted" or similar if shown: `t('wishlist.favorite.mostWanted')`

4. For InviteCodeSection.tsx:
   - Add imports and hook
   - Translate:
     - "Invite Code" header: `t('groups.inviteCode')`
     - "Copy Invite Code" button: `t('groups.copyInviteCode')`
     - "Code copied to clipboard" toast/message: `t('groups.codeCopied')`
   - All Alert.alert() calls

5. For BudgetSettingsSection.tsx:
   - Add imports and hook
   - Translate:
     - "Budget" header: `t('groups.budget.title')`
     - "Per Gift" option: `t('groups.budget.perGift')`
     - "Monthly" option: `t('groups.budget.monthly')`
     - "Yearly" option: `t('groups.budget.yearly')`
     - "Amount" label: `t('groups.budget.amount')`
   - All Alert.alert() calls

6. For BudgetProgressBar.tsx:
   - Add imports and hook
   - Translate:
     - "Spent" label: `t('groups.budget.spent')`
     - "Remaining" label: `t('groups.budget.remaining')`
     - Any percentage/amount formatting (numbers may not need translation)
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - `grep -l "useTranslation" components/groups/GroupModeBadge.tsx`
    - `grep -l "useTranslation" components/groups/InviteCodeSection.tsx`
    - `grep -l "useTranslation" components/groups/BudgetSettingsSection.tsx`
  </verify>
  <done>
    - GroupModeBadge displays translated mode labels
    - InviteCodeSection displays translated text
    - BudgetSettingsSection displays translated labels
    - BudgetProgressBar displays translated labels
    - All 6 components migrated
  </done>
</task>

</tasks>

<verification>
1. TypeScript compiles: `npx tsc --noEmit`
2. All 12 group components use useTranslation
3. Run app, switch to Spanish, verify group components show Spanish
</verification>

<success_criteria>
- All 12 group components migrated to use translations
- Mode badges display "Regalos" / "Saludos" in Spanish
- Budget labels display in selected language
- Create/Join modals display in selected language
- No hardcoded English strings remain in group components
</success_criteria>

<output>
After completion, create `.planning/phases/32-ui-component-migration/32-06-SUMMARY.md`
</output>
