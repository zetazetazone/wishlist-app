---
phase: 32-ui-component-migration
plan: 04
type: execute
wave: 2
depends_on: ["32-01"]
files_modified:
  - app/(app)/settings/profile.tsx
  - app/(app)/settings/personal-details.tsx
  - app/(app)/settings/public-dates.tsx
  - app/profile/[id].tsx
  - app/(app)/member/[id].tsx
autonomous: true

must_haves:
  truths:
    - "Profile settings screen displays labels and buttons in selected language"
    - "Personal details form sections display in selected language"
    - "Public dates screen displays in selected language"
    - "Member profile view displays in selected language"
  artifacts:
    - path: "app/(app)/settings/profile.tsx"
      provides: "Translated profile settings"
      contains: "useTranslation"
    - path: "app/(app)/settings/personal-details.tsx"
      provides: "Translated personal details form"
      contains: "useTranslation"
    - path: "app/(app)/settings/public-dates.tsx"
      provides: "Translated public dates screen"
      contains: "useLocalizedFormat"
  key_links:
    - from: "app/(app)/settings/public-dates.tsx"
      to: "hooks/useLocalizedFormat.ts"
      via: "date formatting"
      pattern: "useLocalizedFormat"
---

<objective>
Migrate settings and profile screens to use translations

Purpose: Profile and settings are user-facing screens for personalization
Output: All settings screens display in selected language with localized dates
</objective>

<execution_context>
@/home/zetaz/.claude/get-shit-done/workflows/execute-plan.md
@/home/zetaz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/32-ui-component-migration/32-RESEARCH.md
@src/i18n/locales/en.json
@hooks/useLocalizedFormat.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate profile and personal details settings</name>
  <files>
    app/(app)/settings/profile.tsx
    app/(app)/settings/personal-details.tsx
  </files>
  <action>
Profile.tsx may already have some translations (2 files already use useTranslation). Review and complete migration:

1. For profile.tsx:
   - Verify useTranslation is imported and used
   - Ensure ALL text is translated, not just some:
     - "Profile" header: `t('profile.title')`
     - "Display Name" label: `t('profile.displayName')`
     - "Birthday" label: `t('profile.birthday')`
     - "Birthday cannot be changed" note: `t('profile.birthdayLocked')`
     - "Change Photo" button: `t('profile.changePhoto')`
     - "Log Out" button: `t('auth.logout')`
     - "Personal Details" link: `t('profile.personalDetails.title')`
     - "Language" link: `t('settings.language')`
   - All Alert.alert() calls:
     ```typescript
     Alert.alert(
       t('alerts.titles.error'),
       t('alerts.messages.failedLoadProfile')
     );
     ```

2. For personal-details.tsx:
   - Add imports: `import { useTranslation } from 'react-i18next';`
   - Add hook: `const { t } = useTranslation();`
   - Translate all section headers:
     - "Personal Details" title: `t('profile.personalDetails.title')`
     - "Help your friends know what you love": `t('profile.personalDetails.subtitle')`
     - "Sizes" section: `t('profile.personalDetails.sizes')`
     - "Shirt Size", "Shoe Size", etc.: `t('profile.personalDetails.shirtSize')`, etc.
     - "Preferences" section: `t('profile.personalDetails.preferences')`
     - "Favorite Colors", "Brands", etc.
     - "External Links" section: `t('profile.personalDetails.externalLinks')`
     - "Add Link" button: `t('profile.personalDetails.addLink')`
     - "Delivery Address": `t('profile.personalDetails.deliveryAddress')`
     - "Bank Details": `t('profile.personalDetails.bankDetails')`
   - All Alert.alert() calls for save success/failure
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - `grep -c "useTranslation" app/\(app\)/settings/profile.tsx` returns 1+
    - `grep -c "useTranslation" app/\(app\)/settings/personal-details.tsx` returns 1+
  </verify>
  <done>
    - profile.tsx fully migrated (all text uses t())
    - personal-details.tsx uses useTranslation with all sections translated
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate public dates and member profile screens</name>
  <files>
    app/(app)/settings/public-dates.tsx
    app/profile/[id].tsx
    app/(app)/member/[id].tsx
  </files>
  <action>
1. For public-dates.tsx:
   - Add imports:
     ```typescript
     import { useTranslation } from 'react-i18next';
     import { useLocalizedFormat } from '@/hooks/useLocalizedFormat';
     ```
   - Add hooks: `const { t } = useTranslation();` and `const { format } = useLocalizedFormat();`
   - Translate:
     - "Public Dates" header: `t('calendar.publicDates.title')`
     - "Add Date" button: `t('calendar.publicDates.add')`
     - "Edit Date" in modal: `t('calendar.publicDates.edit')`
     - Form labels: "Date Title", "Month", "Day"
     - Placeholders: `t('placeholders.dateTitle')`
     - Empty state: `t('calendar.publicDates.empty')`
   - Use localized format for date display
   - All Alert.alert() calls:
     ```typescript
     Alert.alert(t('alerts.titles.deleted'), t('alerts.messages.dateRemoved'));
     ```

2. For profile/[id].tsx (viewing another user's profile):
   - Add imports and hook
   - Translate:
     - Birthday display with localized format
     - "Personal Details" section header
     - Any action buttons or links
   - Use useLocalizedFormat for birthday date display

3. For member/[id].tsx (viewing group member):
   - Add imports and hook
   - Translate:
     - Member name header
     - "View Wishlist" button if present
     - "Secret Notes" section: `t('profile.secretNotes.title')`
     - "Add Note" button: `t('profile.secretNotes.addNote')`
     - Any action buttons
   - All Alert.alert() calls
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - `grep -c "useTranslation" app/\(app\)/settings/public-dates.tsx` returns 1+
    - `grep -c "useLocalizedFormat" app/\(app\)/settings/public-dates.tsx` returns 1+
    - `grep -c "useTranslation" app/profile/\[id\].tsx` returns 1+
    - `grep -c "useTranslation" app/\(app\)/member/\[id\].tsx` returns 1+
  </verify>
  <done>
    - public-dates.tsx uses translations and localized date format
    - profile/[id].tsx uses translations
    - member/[id].tsx uses translations
    - All dates formatted with locale
  </done>
</task>

</tasks>

<verification>
1. TypeScript compiles: `npx tsc --noEmit`
2. All 5 settings/profile screens use useTranslation
3. Screens with dates use useLocalizedFormat
4. Run app, switch to Spanish, verify settings screens show Spanish text
</verification>

<success_criteria>
- Profile settings screen fully translated
- Personal details form sections all translated
- Public dates screen translated with localized date display
- Member profile views translated
- All Alert.alert() calls in these screens translated
</success_criteria>

<output>
After completion, create `.planning/phases/32-ui-component-migration/32-04-SUMMARY.md`
</output>
