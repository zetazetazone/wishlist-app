---
phase: 32-ui-component-migration
plan: 10
type: execute
wave: 3
depends_on: ["32-02"]
files_modified:
  - components/profile/TagChip.tsx
  - components/profile/TagInput.tsx
  - components/profile/CompletenessIndicator.tsx
  - components/profile/PreferencesSection.tsx
  - components/profile/ExternalLinksSection.tsx
  - components/profile/SizesSection.tsx
  - components/profile/ExternalLinkRow.tsx
  - components/profile/DeliveryAddressSection.tsx
  - components/profile/BankDetailsSection.tsx
  - components/profile/VisibilityToggle.tsx
  - components/profile/PersonalDetailsReadOnly.tsx
  - components/profile/PublicDateCard.tsx
autonomous: true

must_haves:
  truths:
    - "Personal details form sections display in selected language"
    - "Completeness indicator displays in selected language"
    - "External links section displays in selected language"
    - "Public date cards display dates in localized format"
  artifacts:
    - path: "components/profile/PreferencesSection.tsx"
      provides: "Translated preferences form"
      contains: "useTranslation"
    - path: "components/profile/CompletenessIndicator.tsx"
      provides: "Translated completeness display"
      contains: "useTranslation"
    - path: "components/profile/PublicDateCard.tsx"
      provides: "Localized date card"
      contains: "useLocalizedFormat"
  key_links:
    - from: "components/profile/PublicDateCard.tsx"
      to: "hooks/useLocalizedFormat.ts"
      via: "date formatting"
      pattern: "useLocalizedFormat"
---

<objective>
Migrate profile section components (12 files) to use translations

Purpose: Profile components are used for personal details which need to be accessible in all languages
Output: All profile components display in selected language with localized dates
</objective>

<execution_context>
@/home/zetaz/.claude/get-shit-done/workflows/execute-plan.md
@/home/zetaz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/32-ui-component-migration/32-RESEARCH.md
@src/i18n/locales/en.json
@hooks/useLocalizedFormat.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate profile form components</name>
  <files>
    components/profile/TagChip.tsx
    components/profile/TagInput.tsx
    components/profile/CompletenessIndicator.tsx
    components/profile/PreferencesSection.tsx
    components/profile/SizesSection.tsx
    components/profile/ExternalLinksSection.tsx
  </files>
  <action>
1. For TagChip.tsx:
   - Check if any text needs translation (may just render tag value)
   - Add accessibility labels if needed

2. For TagInput.tsx:
   - Add `import { useTranslation } from 'react-i18next';`
   - Add `const { t } = useTranslation();`
   - Translate:
     - Placeholder text (e.g., "Add a tag...")
     - "Add" button if present
     - Accessibility labels

3. For CompletenessIndicator.tsx:
   - Add imports and hook
   - Translate:
     - "{{percent}}% complete": `t('profile.personalDetails.completeness', { percent })`
     - Any other labels

4. For PreferencesSection.tsx:
   - Add imports and hook
   - Translate section headers:
     - "Preferences": `t('profile.personalDetails.preferences')`
     - "Favorite Colors": `t('profile.personalDetails.favoriteColors')`
     - "Favorite Brands": `t('profile.personalDetails.favoriteBrands')`
     - "Interests": `t('profile.personalDetails.interests')`
     - "Dislikes": `t('profile.personalDetails.dislikes')`
   - Translate any placeholder text

5. For SizesSection.tsx:
   - Add imports and hook
   - Translate section header: "Sizes": `t('profile.personalDetails.sizes')`
   - Translate labels:
     - "Shirt Size": `t('profile.personalDetails.shirtSize')`
     - "Shoe Size": `t('profile.personalDetails.shoeSize')`
     - "Pant Size": `t('profile.personalDetails.pantSize')`
     - "Ring Size": `t('profile.personalDetails.ringSize')`

6. For ExternalLinksSection.tsx:
   - Add imports and hook
   - Translate:
     - "External Links" header: `t('profile.personalDetails.externalLinks')`
     - "Add Link" button: `t('profile.personalDetails.addLink')`
   - All Alert.alert() calls
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - `grep -l "useTranslation" components/profile/PreferencesSection.tsx`
    - `grep -l "useTranslation" components/profile/SizesSection.tsx`
    - `grep -l "useTranslation" components/profile/CompletenessIndicator.tsx`
  </verify>
  <done>
    - All 6 profile form components use translations
    - Section headers display in selected language
    - Form labels display in selected language
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate remaining profile components</name>
  <files>
    components/profile/ExternalLinkRow.tsx
    components/profile/DeliveryAddressSection.tsx
    components/profile/BankDetailsSection.tsx
    components/profile/VisibilityToggle.tsx
    components/profile/PersonalDetailsReadOnly.tsx
    components/profile/PublicDateCard.tsx
  </files>
  <action>
1. For ExternalLinkRow.tsx:
   - Add imports and hook
   - Translate any action labels (edit, delete)
   - Accessibility labels

2. For DeliveryAddressSection.tsx:
   - Add imports and hook
   - Translate:
     - "Delivery Address" header: `t('profile.personalDetails.deliveryAddress')`
     - Form field labels (address, city, zip, country)
     - Visibility description

3. For BankDetailsSection.tsx:
   - Add imports and hook
   - Translate:
     - "Bank Details" header: `t('profile.personalDetails.bankDetails')`
     - Form field labels
     - Visibility description

4. For VisibilityToggle.tsx:
   - Add imports and hook
   - Translate:
     - Section labels: `t('sections.deliveryVisibility')`, `t('sections.bankVisibility')`
     - Toggle option labels if text-based

5. For PersonalDetailsReadOnly.tsx:
   - Add imports:
     ```typescript
     import { useTranslation } from 'react-i18next';
     import { useLocalizedFormat } from '@/hooks/useLocalizedFormat';
     ```
   - Add hooks
   - Translate all section headers (same as edit form)
   - Translate "Last updated {{date}}": `t('profile.personalDetails.lastUpdated', { date: formattedDate })`
   - Use useLocalizedFormat for lastUpdated date display

6. For PublicDateCard.tsx:
   - Add imports:
     ```typescript
     import { useTranslation } from 'react-i18next';
     import { useLocalizedFormat } from '@/hooks/useLocalizedFormat';
     ```
   - Add hooks
   - Use localized format for date display
   - Translate any action labels (edit, delete)
   - Translate month names if manually constructed (or use format with locale)
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - `grep -l "useTranslation" components/profile/DeliveryAddressSection.tsx`
    - `grep -l "useTranslation" components/profile/PersonalDetailsReadOnly.tsx`
    - `grep -l "useLocalizedFormat" components/profile/PublicDateCard.tsx`
  </verify>
  <done>
    - All 6 remaining profile components use translations
    - PersonalDetailsReadOnly uses localized date format
    - PublicDateCard uses localized date format
    - All section headers and labels translated
  </done>
</task>

</tasks>

<verification>
1. TypeScript compiles: `npx tsc --noEmit`
2. All 12 profile components use useTranslation
3. Components with dates use useLocalizedFormat
4. Run app, switch to Spanish, verify profile components show Spanish
</verification>

<success_criteria>
- All profile section components display in selected language
- Completeness indicator shows "75% completo" in Spanish
- Size labels show "Talla de Camisa", etc. in Spanish
- Public date cards display dates in localized format
- No hardcoded English strings remain in profile components
</success_criteria>

<output>
After completion, create `.planning/phases/32-ui-component-migration/32-10-SUMMARY.md`
</output>
