---
phase: 32-ui-component-migration
plan: 09
type: execute
wave: 3
depends_on: ["32-02"]
files_modified:
  - components/celebrations/CelebrationCard.tsx
  - components/celebrations/GiftLeaderBadge.tsx
  - components/celebrations/ContributionProgress.tsx
  - components/celebrations/ContributionModal.tsx
  - components/celebrations/ClaimSummary.tsx
  - components/chat/ChatBubble.tsx
  - components/chat/ChatInput.tsx
  - components/chat/ChatList.tsx
autonomous: true

must_haves:
  truths:
    - "Celebration cards display in selected language"
    - "Gift leader badge displays in selected language"
    - "Contribution UI displays in selected language"
    - "Chat input placeholder displays in selected language"
  artifacts:
    - path: "components/celebrations/GiftLeaderBadge.tsx"
      provides: "Translated gift leader badge"
      contains: "useTranslation"
    - path: "components/celebrations/ContributionModal.tsx"
      provides: "Translated contribution form"
      contains: "useTranslation"
    - path: "components/chat/ChatInput.tsx"
      provides: "Translated chat input"
      contains: "useTranslation"
  key_links:
    - from: "components/celebrations/GiftLeaderBadge.tsx"
      to: "src/i18n/locales/en.json"
      via: "t() for gift leader text"
      pattern: "t\\('celebrations\\.giftLeader\\."
---

<objective>
Migrate celebration and chat components (8 files) to use translations

Purpose: Celebration pages coordinate gift-giving - must be accessible in all languages
Output: All celebration and chat components display in selected language
</objective>

<execution_context>
@/home/zetaz/.claude/get-shit-done/workflows/execute-plan.md
@/home/zetaz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/32-ui-component-migration/32-RESEARCH.md
@src/i18n/locales/en.json
@hooks/useLocalizedFormat.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate celebration components</name>
  <files>
    components/celebrations/CelebrationCard.tsx
    components/celebrations/GiftLeaderBadge.tsx
    components/celebrations/ContributionProgress.tsx
    components/celebrations/ContributionModal.tsx
    components/celebrations/ClaimSummary.tsx
  </files>
  <action>
1. For CelebrationCard.tsx:
   - Add `import { useTranslation } from 'react-i18next';`
   - Add `const { t } = useTranslation();`
   - Translate:
     - Status badges: `t('celebrations.status.upcoming')`, `t('celebrations.status.inProgress')`, `t('celebrations.status.completed')`
     - Countdown text (may use countdown utility)
     - Any action labels

2. For GiftLeaderBadge.tsx:
   - Add imports and hook
   - Translate:
     - "Gift Leader" text: `t('celebrations.giftLeader.title')`
     - "You are the gift leader": `t('celebrations.giftLeader.youAre')`
     - "Gift leader: {{name}}": `t('celebrations.giftLeader.assignedTo', { name })`

3. For ContributionProgress.tsx:
   - Add imports and hook
   - Translate:
     - "Total Collected": `t('celebrations.contributions.totalCollected')`
     - "Target": `t('celebrations.contributions.target')`
     - Progress labels

4. For ContributionModal.tsx:
   - Add imports and hook
   - Translate:
     - "Contribute" title: `t('celebrations.contributions.contribute')`
     - "Your Contribution" label: `t('celebrations.contributions.yourContribution')`
     - Amount input placeholder
     - "Pledged" vs "Paid" status: `t('celebrations.contributions.pledged')`, `t('celebrations.contributions.paid')`
     - "Mark as Paid" button: `t('celebrations.contributions.markPaid')`
   - All Alert.alert() calls

5. For ClaimSummary.tsx:
   - Add imports and hook
   - Translate summary text (e.g., "3 of 8 items claimed")
   - May need to add translation key or use:
     ```typescript
     t('celebrations.claimSummary', { claimed: claimedCount, total: totalCount })
     ```
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - `grep -l "useTranslation" components/celebrations/GiftLeaderBadge.tsx`
    - `grep -l "useTranslation" components/celebrations/ContributionModal.tsx`
    - `grep -l "useTranslation" components/celebrations/ClaimSummary.tsx`
  </verify>
  <done>
    - All 5 celebration components use translations
    - Gift leader badge displays in selected language
    - Contribution forms and progress display in selected language
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate chat components</name>
  <files>
    components/chat/ChatBubble.tsx
    components/chat/ChatInput.tsx
    components/chat/ChatList.tsx
  </files>
  <action>
1. For ChatBubble.tsx:
   - Add imports:
     ```typescript
     import { useTranslation } from 'react-i18next';
     import { useLocalizedFormat } from '@/hooks/useLocalizedFormat';
     ```
   - Add hooks for translation and date formatting
   - Translate any static text (message content is dynamic)
   - Localize timestamp display using formatDistanceToNow or format

2. For ChatInput.tsx:
   - Add imports and hook
   - Translate:
     - Placeholder: `t('celebrations.chat.placeholder')` ("Type a message...")
     - "Send" button (if visible text): `t('celebrations.chat.send')`
     - "Link to Item" option: `t('celebrations.chat.linkToItem')`

3. For ChatList.tsx:
   - Add imports and hook
   - Translate:
     - Empty state: `t('celebrations.chat.empty')` ("No messages yet")
     - Any section headers or labels
     - Error messages if present
  </action>
  <verify>
    - `npx tsc --noEmit` passes
    - `grep -l "useTranslation" components/chat/ChatInput.tsx`
    - `grep -l "useTranslation" components/chat/ChatList.tsx`
    - `grep -l "useLocalizedFormat" components/chat/ChatBubble.tsx`
  </verify>
  <done>
    - All 3 chat components use translations
    - Chat input placeholder displays in selected language
    - Chat timestamps display in localized format
    - Empty state displays in selected language
  </done>
</task>

</tasks>

<verification>
1. TypeScript compiles: `npx tsc --noEmit`
2. All 8 celebration/chat components use useTranslation
3. ChatBubble uses useLocalizedFormat for timestamps
4. Run app, switch to Spanish, verify celebration/chat UI shows Spanish
</verification>

<success_criteria>
- All celebration components display in selected language
- Gift leader badge shows "Lider de Regalos" in Spanish
- Contribution modal displays in selected language
- Chat placeholder shows "Escribe un mensaje..." in Spanish
- Chat timestamps display in localized format
</success_criteria>

<output>
After completion, create `.planning/phases/32-ui-component-migration/32-09-SUMMARY.md`
</output>
